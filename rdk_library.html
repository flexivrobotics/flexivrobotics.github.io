

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>RDK Library &mdash; Flexiv Robot Development Kit  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/style_override.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/flexiv_logo.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Primitives" href="primitives.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Flexiv Robot Development Kit
          

          
            
            <img src="_static/RDK_logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="system_setup.html">System Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">RDK Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#library-files">Library files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-documentation">API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#robot-modes">Robot modes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#idle-mode">Idle mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#real-time-modes">Real-time modes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#joint-position-mode">Joint position mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#joint-torque-mode">Joint torque mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cartesian-impedance-mode">Cartesian impedance mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#non-real-time-modes">Non-real-time modes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#primitive-execution-mode">Primitive execution mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plan-execution-mode">Plan execution mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#robot-states">Robot states</a></li>
<li class="toctree-l2"><a class="reference internal" href="#system-status">System status</a></li>
<li class="toctree-l2"><a class="reference internal" href="#digital-i-o-control">Digital I/O control</a></li>
<li class="toctree-l2"><a class="reference internal" href="#integrated-visualization">Integrated visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="primitives.html">Primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Flexiv Robot Development Kit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>RDK Library</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/rdk_library.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rdk-library">
<h1>RDK Library<a class="headerlink" href="#rdk-library" title="Permalink to this headline">¶</a></h1>
<p>All functionalities of RDK are packed into the Flexiv RDK library, which allows the robot to be monitored and
controlled by a workstation PC running programs compiled from the library. Users will have real-time access to
the states data from the robot. When the robot is put into a real-time operation mode, low-level control commands
can be sent to the robot and executed at 1kHz. Non-real-time operation modes are also available for the users to
send high-level commands.</p>
<div class="section" id="library-files">
<h2>Library files<a class="headerlink" href="#library-files" title="Permalink to this headline">¶</a></h2>
<p>As mentioned in the start page, all RDK library files are hosted on GitHub as <code class="docutils literal notranslate"><span class="pre">flexiv_rdk</span></code>
repository at <a class="reference external" href="https://github.com/flexivrobotics/flexiv_rdk/">https://github.com/flexivrobotics/flexiv_rdk/</a>.
Below is a brief file structure of the library:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>flexiv_rdk
├── include
│   └── (headers with RDK library APIs)
├── lib
│   └── libFlexivRdk.a
├── example
│   └── (examples covering most RDK features)
├── test
│   └── (unit tests)
└── spec
    └── (URDF with accurate robot kinematics but approximated dynamics)
    └── meshes
        └── (mesh files for visual and collision)
</pre></div>
</div>
</div>
<div class="section" id="api-documentation">
<h2>API documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<p>The detailed documentation on all APIs of the RDK library can be found at
<a class="reference external" href="https://flexivrobotics.github.io/flexiv_rdk/">https://flexivrobotics.github.io/flexiv_rdk/</a>.</p>
</div>
<div class="section" id="robot-modes">
<h2>Robot modes<a class="headerlink" href="#robot-modes" title="Permalink to this headline">¶</a></h2>
<p>The robot can be put into different modes to take different kind of commands. Most motion APIs require the
user to put the robot into a corresponding mode before sending actual control commands. Available modes can
be found in <code class="docutils literal notranslate"><span class="pre">Mode.hpp</span></code>. Use <code class="docutils literal notranslate"><span class="pre">Robot::setMode()</span></code> to put the robot into a certain mode before sending any commands.
The type of each mode is shown below:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Idle Mode</p></td>
<td><p>Idle</p></td>
</tr>
<tr class="row-odd"><td><p>Joint Position Mode</p></td>
<td><p>Real-time</p></td>
</tr>
<tr class="row-even"><td><p>Joint Torque Mode</p></td>
<td><p>Real-time</p></td>
</tr>
<tr class="row-odd"><td><p>Cartesian Impedance Mode</p></td>
<td><p>Real-time</p></td>
</tr>
<tr class="row-even"><td><p>Plan Execution Mode</p></td>
<td><p>Non-real-time</p></td>
</tr>
<tr class="row-odd"><td><p>Primitive Execution Mode</p></td>
<td><p>Non-real-time</p></td>
</tr>
</tbody>
</table>
<div class="section" id="idle-mode">
<h3>Idle mode<a class="headerlink" href="#idle-mode" title="Permalink to this headline">¶</a></h3>
<p>The robot holds it’s current position while waiting for user command. The corresponding enum of this mode
is <code class="docutils literal notranslate"><span class="pre">flexiv::MODE_IDLE</span></code>.</p>
</div>
<div class="section" id="real-time-modes">
<h3>Real-time modes<a class="headerlink" href="#real-time-modes" title="Permalink to this headline">¶</a></h3>
<p>When the robot is in a real-time mode, user commands will be executed right away without excessive processing
or filtering to ensure the control loop is at 1kHz.</p>
<div class="section" id="joint-position-mode">
<h4>Joint position mode<a class="headerlink" href="#joint-position-mode" title="Permalink to this headline">¶</a></h4>
<p>The robot accepts and executes joint position commands streamed at 1kHz.
The corresponding enum of this mode is <code class="docutils literal notranslate"><span class="pre">flexiv::MODE_JOINT_POSITION</span></code>,
and the command can be sent to the robot using <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::streamJointPosition()</span></code>.</p>
</div>
<div class="section" id="joint-torque-mode">
<h4>Joint torque mode<a class="headerlink" href="#joint-torque-mode" title="Permalink to this headline">¶</a></h4>
<p>The robot accepts and executes joint torque commands streamed at 1kHz.
The corresponding enum of this mode is <code class="docutils literal notranslate"><span class="pre">flexiv::MODE_JOINT_TORQUE</span></code>,
and the command can be sent to the robot using <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::streamJointTorque()</span></code>.</p>
</div>
<div class="section" id="cartesian-impedance-mode">
<h4>Cartesian impedance mode<a class="headerlink" href="#cartesian-impedance-mode" title="Permalink to this headline">¶</a></h4>
<p>The robot accepts Cartesian pose commands streamed at 1kHz, and execute them using a
built-in Cartesian impedance controller. The corresponding enum of this mode is <code class="docutils literal notranslate"><span class="pre">flexiv::MODE_CARTESIAN_IMPEDANCE</span></code>,
and the command can be sent to the robot using <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::streamTcpPose()</span></code>.</p>
</div>
</div>
<div class="section" id="non-real-time-modes">
<h3>Non-real-time modes<a class="headerlink" href="#non-real-time-modes" title="Permalink to this headline">¶</a></h3>
<p>When the robot is in non-real-time modes, instead of streaming commands at 1kHz, the user sends only high-level action instructions.</p>
<div class="section" id="primitive-execution-mode">
<h4>Primitive execution mode<a class="headerlink" href="#primitive-execution-mode" title="Permalink to this headline">¶</a></h4>
<p>The robot accepts and executes primitives specified by the user. The corresponding enum of this mode
is <code class="docutils literal notranslate"><span class="pre">flexiv::MODE_PRIMITIVE_EXECUTION</span></code>. The primitive command and parameters can be sent using <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::executePrimitive()</span></code>.</p>
</div>
<div class="section" id="plan-execution-mode">
<h4>Plan execution mode<a class="headerlink" href="#plan-execution-mode" title="Permalink to this headline">¶</a></h4>
<p>The robot will execute plans specified by the user. The corresponding enum of this mode is <code class="docutils literal notranslate"><span class="pre">flexiv::MODE_PLAN_EXECUTION</span></code>.
A list of available plans can be obtained using <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::getPlanNameList()</span></code>, and the plan command can be sent using
<code class="docutils literal notranslate"><span class="pre">flexiv::Robot::executePlanByIndex()</span></code> or <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::executePlanByName()</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="robot-states">
<h2>Robot states<a class="headerlink" href="#robot-states" title="Permalink to this headline">¶</a></h2>
<p>Robot states refer to the measured or estimated information of the robot. The data structure containing
these information can be found in the header file <code class="docutils literal notranslate"><span class="pre">RobotStates.hpp</span></code>. Robot states are updated and published
to the user in real time at 1kHz. However, the user is able to control how often they fetch the data by simply controlling
the rate at which <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::getRobotStates()</span></code> is called.</p>
</div>
<div class="section" id="system-status">
<h2>System status<a class="headerlink" href="#system-status" title="Permalink to this headline">¶</a></h2>
<p>System status refers to system-level information of the robot. The data structure containing these information
is also in the header file <code class="docutils literal notranslate"><span class="pre">RobotStates.hpp</span></code>. Similar to robot states, system status is updated and published
to user in real time at 1kHz. However, the user is able to control how often they fetch the data by simply controlling
the rate at which <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::getSystemStatus()</span></code> is called.</p>
</div>
<div class="section" id="digital-i-o-control">
<h2>Digital I/O control<a class="headerlink" href="#digital-i-o-control" title="Permalink to this headline">¶</a></h2>
<p>The RDK library also provides the users with the ability to control the digital I/O ports located on the robot’s control box.
16 digital outputs and 16 digital inputs are available, and the user can interact with them via <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::writeDigitalOutput()</span></code>
and <code class="docutils literal notranslate"><span class="pre">flexiv::Robot::readDigitalInput()</span></code>.</p>
</div>
<div class="section" id="integrated-visualization">
<h2>Integrated visualization<a class="headerlink" href="#integrated-visualization" title="Permalink to this headline">¶</a></h2>
<p>RDK has integrated visualization based on Meshcat. To use it, follow instructions below.</p>
<ol class="arabic">
<li><p>Install Meshcat server using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">meshcat</span>
</pre></div>
</div>
</li>
<li><p>Start the Meshcat server in Terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">meshcat</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
</li>
<li><p>It will provide several URLs, open <code class="docutils literal notranslate"><span class="pre">web_url</span></code> with a web browser. An empty scene will open up.</p></li>
<li><p>Use APIs in <code class="docutils literal notranslate"><span class="pre">flexiv::Visualization</span></code> to communicate with the Meshcat server, the empty scene will be populated with robot(s) and user-defined objects if any. Refer to <code class="docutils literal notranslate"><span class="pre">example/visualization.cpp</span></code>.</p></li>
</ol>
<p><strong>Note:</strong> only STL mesh files are supported, which are provided in <code class="docutils literal notranslate"><span class="pre">spec/meshes</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="primitives.html" class="btn btn-neutral float-right" title="Primitives" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Flexiv Ltd.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>