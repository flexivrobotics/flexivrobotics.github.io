

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Getting Started &mdash; Flexiv RDK 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="RDK Library" href="4_RdkLibrary.html" />
    <link rel="prev" title="System Setup" href="2_SystemSetup.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Flexiv RDK
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="0_Preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_SystemSetup.html">System Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#establish-connection">Establish connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-and-run-examples">Build and run examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="4_RdkLibrary.html">RDK Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_Primitives.html">Primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_Troubleshooting.html">Troubleshooting</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Flexiv RDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Getting Started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/3_GettingStarted.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>This section covers how to establish connection between the robot and the user’s workstation PC,
and run some examples to verify system functionalities.</p>
<section id="establish-connection">
<h2>Establish connection<a class="headerlink" href="#establish-connection" title="Permalink to this headline">¶</a></h2>
<p>The following steps show how to physically connect user’s workstation PC to the robot:</p>
<p>1. Make sure the system is powered <strong>OFF</strong> and the robot arm is mounted on a stable base. The robot must be securely mounted
onto a steady base and cannot topple over even when the robot is moving at high speeds with sudden stops.</p>
<p>2. Using an Ethernet cable, connect the Ethernet port on the workstation PC to the Ethernet port on the control box that is marked as LAN.
Ensure that connectors are firmly attached.</p>
<blockquote>
<div><figure class="align-center">
<a class="reference internal image-reference" href="_images/ioFullPanel.png"><img alt="_images/ioFullPanel.png" src="_images/ioFullPanel.png" style="width: 75.0%;" /></a>
</figure>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/ioFullPanelDetails.png"><img alt="_images/ioFullPanelDetails.png" src="_images/ioFullPanelDetails.png" style="width: 75.0%;" /></a>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The connection between the robot and the workstation PC should be a direct connection. Going through a
router or an ethernet switch can result in reduced control performance due to extra network latency.</p>
</div>
</div></blockquote>
<ol class="arabic" start="3">
<li><p>With the system powered <strong>OFF</strong>, push the <strong>mode selection switch</strong> on the motion bar to upper position (i.e. <strong>auto mode</strong>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to the user manual for more details about <strong>auto mode</strong> and <strong>manual mode</strong>. Here we’ll need
to use auto mode for RDK.</p>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/MotionBar_Image.png"><img alt="_images/MotionBar_Image.png" src="_images/MotionBar_Image.png" style="width: 70.0%;" /></a>
</figure>
</li>
<li><p>Check that the <strong>emergency stop</strong> (E-stop) on the motion bar is pressed down.</p></li>
<li><p>Power <strong>ON</strong> the system using the power switch located on the control box, then wait until booting is complete.
The LED rings on the robot will turn solid <strong>blue</strong> when the robot is ready. This process may take up to 60 seconds.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>Blinking</strong> LED rings on the robot indicate a fault occurred. Please refer to the Troubleshooting section for more details.</p>
</div>
</li>
<li><p>The default IP address of the robot is <code class="docutils literal notranslate"><span class="pre">192.168.2.100</span></code>. By this time the connection should already have been established,
so check the connection by pinging the robot from the workstation PC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ping</span> <span class="mf">192.168.2.100</span>
</pre></div>
</div>
<p>The <em>time</em> value from the ping command denotes the round trip time and this value should be well below <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">ms</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The workstation PC must be in the same subnet (i.e. with IP address <code class="docutils literal notranslate"><span class="pre">192.168.2.x</span></code>) with the robot in order to connect.
However, the user does NOT need to configure the workstation PC’s IP address manually, because the robot has its own DHCP
server built in. So when the robot finishes booting with the workstation PC is connected, the
DHCP server will automatically assign an IP address in the same subnet to the workstation PC.</p>
</div>
</li>
</ol>
</section>
<section id="build-and-run-examples">
<h2>Build and run examples<a class="headerlink" href="#build-and-run-examples" title="Permalink to this headline">¶</a></h2>
<p>Now that the connection is established, we’ll need to enable the robot and verify the whole setup by running the <code class="docutils literal notranslate"><span class="pre">display_robot_states</span></code>
example, which will enable the robot then continuously get and print the current states of the robot while the robot holds itself at the current pose.</p>
<ol class="arabic">
<li><p>Unzip the RDK library package provided by Flexiv.</p></li>
<li><p>Configure CMake:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">flexiv_rdk</span>
<span class="n">mkdir</span> <span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">..</span>
</pre></div>
</div>
</li>
<li><p>Check the IP address of the workstation PC itself:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">net</span><span class="o">-</span><span class="n">tools</span>
<span class="n">ifconfig</span>
</pre></div>
</div>
<p>You should see that one of the network drivers has been assigned by the robot an IP address within the same subnet as the robot, aka <code class="docutils literal notranslate"><span class="pre">192.168.2.x</span></code>.</p>
</li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">LOCAL_IP</span></code> in <code class="docutils literal notranslate"><span class="pre">flexiv_rdk/include/config.h</span></code> with this IP address of the workstation PC.</p></li>
<li><p>Build examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">flexiv_rdk</span><span class="o">/</span><span class="n">build</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span>
</pre></div>
</div>
</li>
<li><p>Assuming the robot has already finished booting and the connection with the user’s workstation PC is established according to instructions
mentioned above, now release (<strong>pull up</strong>) the emergency stop (E-stop) button on the motion bar. The robot will have no action because
there’s still one more step to actually enable the robot.</p></li>
<li><p>Run the compiled example program <code class="docutils literal notranslate"><span class="pre">display_robot_states</span></code>, which will first call an API to actually enable the robot, make sure the E-stop is
already pulled up:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">flexiv_rdk</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">example</span>
<span class="n">sudo</span> <span class="o">./</span><span class="n">display_robot_states</span>
</pre></div>
</div>
</li>
<li><p>The robot will get enabled and release the brakes, which will make some audible crispy sound. After a few seconds when the enabling process is done and the robot
becomes operational, the 1kHz periodic user task loop will start to run, which in this example mainly prints the joint and Cartesian states of the robot.
An excerpt of the output is as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;q&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.00000</span><span class="w">  </span><span class="mf">-0.69813</span><span class="w">  </span><span class="mf">0.00000</span><span class="w">  </span><span class="mf">1.57079</span><span class="w">  </span><span class="mf">0.00001</span><span class="w">  </span><span class="mf">0.69813</span><span class="w">  </span><span class="mf">-0.00000</span><span class="p">],</span><span class="w"></span>
<span class="s">&quot;dq&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.00124</span><span class="w">  </span><span class="mf">-0.00159</span><span class="w">  </span><span class="mf">0.00932</span><span class="w">  </span><span class="mf">-0.0124</span><span class="w">  </span><span class="mf">-0.00246</span><span class="w">  </span><span class="mf">0.00245</span><span class="w">  </span><span class="mf">0.00492</span><span class="p">],</span><span class="w"></span>
<span class="s">&quot;tau_J&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.00000</span><span class="w">  </span><span class="mf">48.12248</span><span class="w">  </span><span class="mf">1.09559</span><span class="w">  </span><span class="mf">-20.00126</span><span class="w">  </span><span class="mf">-2.15257</span><span class="w">  </span><span class="mf">2.42971</span><span class="w">  </span><span class="mf">-0.00000</span><span class="p">],</span><span class="w"></span>
<span class="s">&quot;tau_J_ext&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2.01001</span><span class="w">  </span><span class="mf">-10.02002</span><span class="w">  </span><span class="mf">2.04536</span><span class="w">  </span><span class="mf">23.23102</span><span class="w">  </span><span class="mf">-9.23158</span><span class="w">  </span><span class="mf">-5.61123</span><span class="w">  </span><span class="mf">-4.23160</span><span class="p">],</span><span class="w"></span>
<span class="s">&quot;tcp_pose&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.68701</span><span class="w">  </span><span class="mf">-0.11000</span><span class="w">  </span><span class="mf">0.29358</span><span class="w">  </span><span class="mf">0.00000</span><span class="w">  </span><span class="mf">0.00000</span><span class="w">  </span><span class="mf">1.00000</span><span class="w">  </span><span class="mf">0.00000</span><span class="p">],</span><span class="w"></span>
<span class="s">&quot;tcp_vel&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.20001</span><span class="w">  </span><span class="mf">0.30000</span><span class="w">  </span><span class="mf">0.10002</span><span class="w">  </span><span class="mf">0.02000</span><span class="w">  </span><span class="mf">-0.03003</span><span class="w">  </span><span class="mf">0.00210</span><span class="p">],</span><span class="w"></span>
<span class="s">&quot;tcp_acc&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.00100</span><span class="w">  </span><span class="mf">0.00030</span><span class="w">  </span><span class="mf">0.00200</span><span class="w">  </span><span class="mf">0.01000</span><span class="w">  </span><span class="mf">0.00400</span><span class="w">  </span><span class="mf">0.00050</span><span class="p">],</span><span class="w"></span>
<span class="s">&quot;tcp_wrench&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">3.02003</span><span class="w">  </span><span class="mf">-2.20300</span><span class="w">  </span><span class="mf">1.00040</span><span class="w">  </span><span class="mf">0.03030</span><span class="w">  </span><span class="mf">3.10000</span><span class="w">  </span><span class="mf">0.50020</span><span class="p">]</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">CTRL+C</span></code> to close the example program.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the RDK user program is terminated or the connection is lost, the robot will automatically decelerate to a halt and hold its position.</p>
</div>
</li>
</ol>
<p>The next section will provide more details on the RDK library, and you can also check out the other
examples to get familiar with RDK APIs and how to use them.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="4_RdkLibrary.html" class="btn btn-neutral float-right" title="RDK Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="2_SystemSetup.html" class="btn btn-neutral float-left" title="System Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Flexiv.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>